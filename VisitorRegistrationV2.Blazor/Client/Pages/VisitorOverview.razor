
@page "/"
@inherits VisitorOverviewModel

<div class="text-left bg-blue-100" style="padding-bottom:4em"> Search by name :
    <input class="border-dark" @bind-value="SearchTerm" @bind-value:event="oninput" />
</div>

<div class="slidecontainer">
    <input type="range" min="0" max="2" class="slider" @bind="ListSelection"/>
</div>

@if (ListSelection == 0)
{ 
    <VisitorListUIComponent 
     @ref="PresentComponent"
     Visitors="FilterdPresentVisitors"
     showDialogDeparted="showDialogDeparted" 
     showDialogArrived="showDialogArrived"
     VisitorArrived="OnVisitorArrived"
     VisitorDeparted="OnVisitorDeparted"
     RenderDepartureTime="false"/>
}
@if (ListSelection == 1)
{
    <VisitorListUIComponent
     @ref="NotPresentComponent"
     Visitors="FilterdNotPresentVisitors"
     showDialogDeparted="showDialogDeparted" 
     showDialogArrived="showDialogArrived"
     VisitorArrived="OnVisitorArrived"
     VisitorDeparted="OnVisitorDeparted"
     RenderDepartureTime="true"/>
}

<br/>

    <div class="row">
        @if (showDialogArrived == true)
        {
            <VisitorArrivedComponent
            @ref="ArrivedButton"
            showDialogArrived="showDialogArrived"
            SelectedVisitor="SelectedVisitor"
            VisitorArrived="OnVisitorArrived"/>
        }
        @if (showDialogDeparted == true)
        {
            <VisitorDepartedComponent 
            @ref="DepartedButton    "
            showDialogDeparted="showDialogDeparted"
            SelectedVisitor="SelectedVisitor"
            VisitorDeparted="OnVisitorDeparted" />
        }
    </div>

<br/>

<div>
    <button @onclick="@(() => RedirectToCreatePage())">Add visitor</button>
</div>

<br />

@if (!string.IsNullOrEmpty(Message))
{
    <span class="alert alert-info" style="padding:10px,17px,12px,8px">@Message</span>
}
